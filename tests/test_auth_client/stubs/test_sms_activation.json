[
  {
    "predicates": [
      {
        "equals": {
          "method": "GET",
          "path": "/api/v1/users/00u15s1KDETTQMQYABRL/factors"
        }
      }
    ],
    "responses": [
      {
        "is": {
          "headers": {
            "Content-Type": "application/json"
          },
          "body": [
            {
              "id": "sms58q11w81MuAsyK0h7",
              "factorType": "sms",
              "provider": "OKTA",
              "status": "PENDING_ACTIVATION",
              "created": "2014-08-05T20:59:49.000Z",
              "lastUpdated": "2014-08-06T03:59:49.000Z",
              "profile": {
                "phoneNumber": "+1-555-415-1337"
              },
              "_links": {
                "activate": {
                  "href": "https://your-domain.okta.com/api/v1/users/00u15s1KDETTQMQYABRL/factors/mbl1nz9JHJGHWRKMTLHP/lifecycle/activate",
                  "hints": {
                    "allow": [
                      "POST"
                    ]
                  }
                },
                "resend": [
                  {
                    "name": "sms",
                    "href": "https://your-domain.okta.com/api/v1/users/00u15s1KDETTQMQYABRL/factors/mbl1nz9JHJGHWRKMTLHP/resend",
                    "hints": {
                      "allow": [
                        "POST"
                      ]
                    }
                  }
                ],
                "self": {
                  "href": "https://your-domain.okta.com/api/v1/users/00u15s1KDETTQMQYABRL/factors/mbl1nz9JHJGHWRKMTLHP",
                  "hints": {
                    "allow": [
                      "GET"
                    ]
                  }
                },
                "user": {
                  "href": "https://your-domain.okta.com/api/v1/users/00u15s1KDETTQMQYABRL",
                  "hints": {
                    "allow": [
                      "GET"
                    ]
                  }
                }
              }
            }
          ]
        }
      }
    ]
  },
  {
    "predicates": [
      {
        "equals": {
          "path": "/api/v1/users/invalid_id/factors/mbl1nz9JHJGHWRKMTLHP/verify"
        }
      }
    ],
    "responses": [
      {
        "is": {
          "statusCode": 404,
          "headers": {
            "Content-Type": "application/json"
          },
          "body": {
            "errorCode": "E0000007",
            "errorSummary": "Not found: Resource not found: invalid_id (User)",
            "errorLink": "E0000007",
            "errorCauses": [],
            "errorId": "oaeinnziNStQHuDfv6ApTKCIg"
          }
        }
      }
    ]
  },
  {
    "predicates": [
      {
        "equals": {
          "path": "/api/v1/users/invalid_id/factors"
        }
      }
    ],
    "responses": [
      {
        "is": {
          "statusCode": 404,
          "headers": {
            "Content-Type": "application/json"
          },
          "body": {
            "errorCode": "E0000007",
            "errorSummary": "Not found: Resource not found: invalid_id (User)",
            "errorLink": "E0000007",
            "errorCauses": [],
            "errorId": "oaeinnziNStQHuDfv6ApTKCIg"
          }
        }
      }
    ]
  },
  {
    "predicates": [
      {
        "equals": {
          "method": "GET",
          "path": "/api/v1/users/not-enrolled-in-sms/factors"
        }
      }
    ],
    "responses": [
      {
        "is": {
          "headers": {
            "Content-Type": "application/json"
          },
          "body": [
            {
              "id": "mbl1nz9JHJGHWRKMTLHP",
              "factorType": "token:software:totp",
              "provider": "OKTA",
              "status": "PENDING_ACTIVATION",
              "created": "2014-08-05T20:59:49.000Z",
              "lastUpdated": "2014-08-06T03:59:49.000Z",
              "profile": {
                "phoneNumber": "+1-555-415-1337"
              },
              "_links": {
                "activate": {
                  "href": "https://your-domain.okta.com/api/v1/users/00u15s1KDETTQMQYABRL/factors/mbl1nz9JHJGHWRKMTLHP/lifecycle/activate",
                  "hints": {
                    "allow": [
                      "POST"
                    ]
                  }
                },
                "resend": [
                  {
                    "name": "sms",
                    "href": "https://your-domain.okta.com/api/v1/users/00u15s1KDETTQMQYABRL/factors/mbl1nz9JHJGHWRKMTLHP/resend",
                    "hints": {
                      "allow": [
                        "POST"
                      ]
                    }
                  }
                ],
                "self": {
                  "href": "https://your-domain.okta.com/api/v1/users/00u15s1KDETTQMQYABRL/factors/mbl1nz9JHJGHWRKMTLHP",
                  "hints": {
                    "allow": [
                      "GET"
                    ]
                  }
                },
                "user": {
                  "href": "https://your-domain.okta.com/api/v1/users/00u15s1KDETTQMQYABRL",
                  "hints": {
                    "allow": [
                      "GET"
                    ]
                  }
                }
              }
            }
          ]
        }
      }
    ]
  },
  {
    "predicates": [
      {
        "equals": {
          "method": "POST",
          "path": "/api/v1/users/00u15s1KDETTQMQYABRL/factors/sms58q11w81MuAsyK0h7/lifecycle/activate"
        }
      },
      {
        "contains": {
          "body": {
            "passCode": "invalid-passcode"
          }
        }
      }
    ],
    "responses": [
      {
        "is": {
          "statusCode": 403,
          "headers": {
            "Content-Type": "application/json"
          },
          "body": {
            "errorCode": "E0000068",
            "errorSummary": "Invalid Passcode/Answer",
            "errorLink": "E0000068",
            "errorId": "oaei_IfXcpnTHit_YEKGInpFw",
            "errorCauses": [
              {
                "errorSummary": "Your passcode doesn't match our records. Please try again."
              }
            ]
          }
        }
      }
    ]
  },
  {
    "predicates": [
      {
        "equals": {
          "method": "POST",
          "path": "/api/v1/users/00u15s1KDETTQMQYABRL/factors/sms58q11w81MuAsyK0h7/lifecycle/activate"
        }
      },
      {
        "contains": {
          "body": {
            "passCode": "123456"
          }
        }
      }
    ],
    "responses": [
      {
        "is": {
          "headers": {
            "Content-Type": "application/json"
          },
          "body": {
            "id": "mbl1nz9JHJGHWRKMTLHP",
            "factorType": "sms",
            "provider": "OKTA",
            "status": "ACTIVE",
            "created": "2014-08-05T20:59:49.000Z",
            "lastUpdated": "2014-08-06T03:59:49.000Z",
            "profile": {
              "phoneNumber": "+1-555-415-1337"
            },
            "_links": {
              "activate": {
                "href": "https://your-domain.okta.com/api/v1/users/00u15s1KDETTQMQYABRL/factors/mbl1nz9JHJGHWRKMTLHP/lifecycle/activate",
                "hints": {
                  "allow": [
                    "POST"
                  ]
                }
              },
              "resend": [
                {
                  "name": "sms",
                  "href": "https://your-domain.okta.com/api/v1/users/00u15s1KDETTQMQYABRL/factors/mbl1nz9JHJGHWRKMTLHP/resend",
                  "hints": {
                    "allow": [
                      "POST"
                    ]
                  }
                }
              ],
              "self": {
                "href": "https://your-domain.okta.com/api/v1/users/00u15s1KDETTQMQYABRL/factors/mbl1nz9JHJGHWRKMTLHP",
                "hints": {
                  "allow": [
                    "GET"
                  ]
                }
              },
              "user": {
                "href": "https://your-domain.okta.com/api/v1/users/00u15s1KDETTQMQYABRL",
                "hints": {
                  "allow": [
                    "GET"
                  ]
                }
              }
            }
          }
        }
      },
      {
        "is": {
          "statusCode": 400,
          "headers": {
            "Content-Type": "application/json"
          },
          "body": {
            "errorCode": "E0000001",
            "errorSummary": "Api validation failed: factorEnrollRequest",
            "errorLink": "E0000001",
            "errorCauses": [
              {
                "errorSummary": "Factor already exists."
              }
            ],
            "errorId": "oaeinnziNStQHuDfv6ApTKCIg"
          }
        }
      }
    ]
  }
]